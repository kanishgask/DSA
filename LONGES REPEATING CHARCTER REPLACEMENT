ğŸªŸ LONGEST REPEATING CHARACTER REPLACEMENT

(Very common in interviews â€“ Amazon, Microsoft, Adobe)

ğŸ”¹ Problem Definition

You are given a string s and an integer k.

You can replace at most k characters in the string such that all characters in the resulting substring are the same.

Return the length of the longest possible substring.

ğŸ”¹ Example
Input
s = "AABABBA"
k = 1

Output
4

Explanation

Replace one 'B' with 'A' â†’ "AABA"
(or "ABBA" â†’ "AAAA" is also valid)
Longest length = 4

âŒ Brute Force (Donâ€™t Use)

Try all substrings

Count replacements needed

â± O(nÂ²) â€” too slow

âœ… Optimal Approach: SLIDING WINDOW + FREQUENCY COUNT
ğŸ”‘ Key Insight (VERY IMPORTANT ğŸš¨)

To make all characters same in a window:

windowLength âˆ’ maxFrequency â‰¤ k


If this condition breaks â†’ shrink window.

ğŸ”¹ Algorithm (Step-by-Step)

Use two pointers left and right

Maintain character frequency array (26 letters)

Track maxCount (most frequent character)

Expand window by moving right

If replacement condition fails â†’ move left

Keep updating maximum window length

ğŸ”¹ Java Code (Interview Ready)
class Solution {
    public int characterReplacement(String s, int k) {

        int[] count = new int[26];

        int left = 0;
        int maxCount = 0;
        int maxLength = 0;

        for (int right = 0; right < s.length(); right++) {

            count[s.charAt(right) - 'A']++;
            maxCount = Math.max(maxCount,
                       count[s.charAt(right) - 'A']);

            while ((right - left + 1) - maxCount > k) {
                count[s.charAt(left) - 'A']--;
                left++;
            }

            maxLength = Math.max(maxLength,
                         right - left + 1);
        }

        return maxLength;
    }
}

ğŸ§  LINE-BY-LINE EXPLANATION
int[] count = new int[26];


âœ” Frequency of characters from Aâ€“Z

int left = 0;


âœ” Start of sliding window

count[s.charAt(right) - 'A']++;


âœ” Increase frequency of current character

maxCount = Math.max(maxCount, count[...]);


âœ” Track most frequent character in window

(right - left + 1) - maxCount > k


âœ” Required replacements > k â†’ invalid window

count[s.charAt(left) - 'A']--;
left++;


âœ” Shrink window from the left

maxLength = Math.max(maxLength, right - left + 1);


âœ” Update best answer

ğŸ” Dry Run (Quick)

s = "AABABBA", k = 1

Window	maxFreq	replacements	valid
AABA	3	1	âœ…
ABAB	2	2	âŒ
ABBA	3	1	âœ…

Answer = 4

â± Time & Space Complexity
Type	Complexity
Time	O(n)
Space	O(1)
ğŸ¯ Interview One-Liner

â€œI use a sliding window and keep track of the most frequent character. If replacements needed exceed k, I shrink the window.â€
