✅ Question 7: Subarray Sum Equals K
Problem Statement

Given an integer array nums and an integer k, return the total number of continuous subarrays whose sum equals k.

Example 1
Input: nums = [1,1,1], k = 2
Output: 2
Explanation:
Subarrays: [1,1] (index 0–1), [1,1] (index 1–2)

Example 2
Input: nums = [1,2,3], k = 3
Output: 2
Explanation:
Subarrays: [1,2], [3]

Key Observation

If:

prefixSum[j] - prefixSum[i] = k


then:

prefixSum[i] = prefixSum[j] - k


So, we track prefix sums and how many times they have occurred using a HashMap.

Optimal Approach: Prefix Sum + HashMap
Why This Works

Brute force = O(N²) ❌

Prefix sum + hashmap = O(N) ✅ (INTERVIEW EXPECTED)

Algorithm

Create a HashMap to store prefixSum → frequency.

Initialize:

sum = 0

count = 0

map.put(0,1) (important base case)

Traverse the array:

Add current element to sum

If map contains (sum - k), add its frequency to count

Update map with current sum

Return count

Time & Space Complexity

Time Complexity: O(N)

Space Complexity: O(N)

Java Code
import java.util.*;

public class SubarraySumEqualsK {

    public static int subarraySum(int[] nums, int k) {
        Map<Integer, Integer> map = new HashMap<>();

        map.put(0, 1); // Base case
        int sum = 0;
        int count = 0;

        for (int num : nums) {
            sum += num;

            if (map.containsKey(sum - k)) {
                count += map.get(sum - k);
            }

            map.put(sum, map.getOrDefault(sum, 0) + 1);
        }

        return count;
    }

    public static void main(String[] args) {
        int[] nums = {1, 1, 1};
        int k = 2;
        System.out.println("Subarrays Count: " + subarraySum(nums, k));
    }
}

Line-by-Line Code Explanation
Map<Integer, Integer> map = new HashMap<>();


Stores prefix sum and its frequency.

map.put(0, 1);


Handles subarrays starting from index 0.

sum += num;


Builds running prefix sum.

if (map.containsKey(sum - k))


Checks if a previous prefix sum exists that forms k.

count += map.get(sum - k);


Adds number of valid subarrays ending at current index.

map.put(sum, map.getOrDefault(sum, 0) + 1);


Updates prefix sum frequency.

Example Walkthrough
nums = [1,1,1], k = 2

Step-by-step:
sum=1 → map={0:1,1:1}
sum=2 → sum-k=0 exists → count=1
sum=3 → sum-k=1 exists → count=2

Output = 2

Why This Is a MUST-KNOW Interview Question

✔ Asked in Amazon, Google, Microsoft, Meta
✔ Tests prefix sum understanding
✔ HashMap optimization
✔ Very clean explanation in interviews
